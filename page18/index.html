<!DOCTYPE html>
<html>

  


 
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>午夜咖啡</title>
  <meta name="description" content="Jolestar 的个人博客，微信公众号 午夜咖啡 jolestar-blog，工具 架构 成长 思考
">

  <link rel="stylesheet" href="../css/main.css">
  <link rel="canonical" href="http://jolestar.com/page18/">
  <link rel="alternate" type="application/rss+xml" title="午夜咖啡" href="../feed.xml" />
  <meta name="google-site-verification" content="kmm9IK4zVCvEFzsNDOyTkDdtkaMGQHtdgEXurVQizfc" />
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="../">午夜咖啡</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <!-- 
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/sitemap.txt">Sitemap</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
         -->
        <a class="page-link" href="../about/">About</a>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        



<div class="home">

  <ul class="post-list">
    
        
      <li>
        <span class="post-meta">Jan 16, 2008</span>
        <h2>
            <a class="post-link" href="../1200484980000/">SUSE10.3的桌面</a>
        </h2>
        <div class="post_at_index">
            <p> </p>

<p>   虽然认识linux也有三年多了，但这三年多里，从windows到linux，不习惯，再换到windows，兴趣来了，再换过来。翻来覆去，折<br />
腾了好多遍。终于在半年前完全抛弃了windows，转移到linux下来。linux和windows是两种不同的思维方式，思维方式换了，别的就都习<br />
惯了。最近把我的笔记本的系统升级到suse10.3，贴几张桌面截图。</p>

<p>   我的笔记本是联想F40A，装上suse之后，除了声卡需要特别配置，别的都完全正常使用，包括无线网卡以及蓝牙。因为声卡用了一个微软的啥UAA技术，windows下安装声卡驱动都要先装那个UAA驱动。<br />
当然，那些鸡肋似的按钮是没办法用了。所以建议打算买本装linux的朋友们优先考虑预装linux的笔记本。</p>

<p><img src="/images/desktop/84288ddb-64ec-3b9d-885a-a0418adcb20d.jpg" alt="" /></p>

<p><img src="/images/desktop/6d5b7416-6e22-3b1a-9893-bae059987f46.jpg" alt="" /></p>

<p> </p>

<p><img src="/images/desktop/0a5925c0-cfd6-3f5e-b4b6-595394990acb.jpg" alt="" /></p>

<p> </p>

        
        </div>
      </li>
    
        
      <li>
        <span class="post-meta">Aug 21, 2007</span>
        <h2>
            <a class="post-link" href="../1187697600000/">javascript获取网页元素的最终样式</a>
        </h2>
        <div class="post_at_index">
            <p>    今天遇到个问题，用js获取网页元素的样式，如果直接用 document.getElementById(“idname”).style<br />
获取的话，只能获取该元素的专有样式，即在该元素上直接用style=“”指定的样式，而无法获取由class设置的和从上级元素继承来的样式，也就是浏<br />
览器生成dom后最终的样式，所以很头痛。网上搜索了一下，找到一个办法。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   　　
   　　
   　　div.special{
   　　 background-color:red;
   　　 height:50px;
   　　 width:50px;
   　　 margin:10px;
   　　}
  　　
  　　
  　　function getBackgroundColor()
  　　{
  　　 var oDiv=document.getElementById("div1");
  　　 alert(oDiv.currentStyle.backgroundColor||document.defaultView.getComputedStyle(oDiv,null).backgroundColor);
  　　}
  　　
  　　
  　　
  　　
  　　
      
  　　
  　　  
</code></pre></div></div>

<p> </p>

<p>注意：oDiv.currentStyle.backgroundColor是IE使用的方法，document.defaultView.getComputedStyle(oDiv,null).backgroundColor是DOM使用的方法。</p>

<p>       内容来源：http://blog.tianya.cn/blogger/post_show.asp?BlogID=666817&amp;PostID=7224874&amp;idWriter=0&amp;Key=0</p>

        
        </div>
      </li>
    
        
      <li>
        <span class="post-meta">Aug 16, 2007</span>
        <h2>
            <a class="post-link" href="../1187265420000/">读巴别塔之犬</a>
        </h2>
        <div class="post_at_index">
            <p>去书店逛，本来是要找本计算机方面的书的，但出来后瞄了一眼热门书榜，一本薄薄的书吸引了我，主要是封面上那短短的几十字介绍:</p>

<p>写道</p>

<p>一个女人从苹果树上坠地身亡。<br />
是意外还是自杀？无人知晓。<br />
唯一的目击者，就是她心爱的狗。<br />
女人的丈夫是一位语言学家，<br />
哀伤又困惑的他，<br />
思念妻子却无从得知她真正的死因。<br />
他决定以自己毕生的研究，<br />
教这只狗开口说话，<br />
让它道出事情的真相…..</p>

<p> </p>

<p>于是买了本回来。</p>

<p>        基本是一口气读完的，开始的时候还想着女人的死因和这只狗到底会说话了么？但到后来这些都不重要了。</p>

<p>        作者并没有直接描写那个女人—露西，而是通过女人的丈夫，那个语言学家,也就是保罗的回忆，慢慢一点一点在大家的想象中勾勒出了这个女人，一个精灵般的女人，一个很难用语言形容的女人，一个不属于这个现实世界的女人。</p>

<p>        有人说这本小说是本爱情小说，我不同意，你不能因为小说描写了爱情就是爱情小说，这都是人们的帖标签习惯带来的。好的小说或者作品就是一个鲜活的生命，有很多种可能，有很多种表现，能给你带来无限的思考空间，很难用一个简单的标签来区分的。</p>

<p>      <br />
“其实书里想要表达的东西并不是这个，巴别塔象征了人和人之间难以融通的隔阂，主人公保罗所要面对的不是如何让他家的狗开口说话的难题，而是他和妻子间幸福生活下潜藏着的观念鸿沟。他们彼此相爱，但并不能彼此理解，对于生活习惯和爱好的争端从未停止。保罗深爱妻子露西，因为她带给他惊喜和快乐，但他忽略了在快乐表面下露西那颗伤痕累累的心。在断断续续讲述自己过去的时候，露西渴望抚慰，然而保罗没有给。在冲着像自己孩子一样的面具发火时，露西渴望理解，但保罗没有给。 ”——-摘自豆瓣()</p>

<p>       但我觉得并非保罗不理解露西，而是保罗不善于表达，虽然他是个语言学家，甚至想让狗说话。当保罗看到露西做的第一个面具时，那个面具带给保罗内心的震动，我想他理解了露西在用面具阐释的生命和死亡的关系，但当表述为语言时，两个人的理解就发生歧义了。当露西认为保罗不理解她，冲着面具发火并把面具扎碎时，我竟然能体会到保罗的那种心碎的感觉。我想他当时一定非常恨上帝，恨上帝造人的时候为什么只能让人用语言交流？而相对于人的内心，语言本身又是如此的苍白无力。</p>

<p>      每个人都是孤独的。</p>

        
        </div>
      </li>
    
        
      <li>
        <span class="post-meta">Jul 30, 2007</span>
        <h2>
            <a class="post-link" href="../1185733200000/">JavaFX尝鲜</a>
        </h2>
        <div class="post_at_index">
            <p>     java6出来以后，其一大特色就是对脚本语言的支持。以前只是粗略看了一下，没感觉到有什么具体的用处。最近又对java的特有脚本语言javaFX了解一下，感觉挺有意思。</p>

<p>**一.以下是几个相关网址: **<br />
   1.sun javafx 官方网站:.<a href="http://www.sun.com/software/javafx/script/">www.sun.com/software/javafx/script/</a><br />
   2.openjfx 网站:  <a href="https://openjfx.dev.java.net/">openjfx.dev.java.net/</a><br />
   3.JavaFX: First Steps – “Hello OnJava” App  <a href="http://www.oreillynet.com/onjava/blog/2007/05/javafx_first_steps_hello_onjav_1.html">www.oreillynet.com/onjava/blog/2007/05/javafx_first_steps_hello_onjav_1.html</a><br />
   4.<a href="https://openjfx.dev.java.net/JavaFX_Programming_Language.html">The JavaFX Script Programming Language Reference</a> (<a href="https://openjfx.dev.java.net/JavaFX_Programming_Language_CN.html">Chinese version</a>)</p>

<p>hello world 式的程序，很简单，稍看一下文档就明白了。<br />
<strong>二.我比较喜欢这个语言的下面几个特征:</strong><br />
 <br />
     这个语言融合了javascript，php,actionscript,sql 等许多脚本语言的特征。</p>

<p>    1.<strong>数组操作很有特色</strong><br />
         var nums = [0..3];<br />
         ..  是范围表达式，上面的语句相当于  var nums == [0,1,2,3];<br />
         数组支持类似于sql语句一样的查询表达式。<br />
        var nums = select n*n from n in [1..100];<br />
        结果便是从1到100每个数字的平方组成的数组。</p>

<p>     2.<strong>字符串</strong><br />
        javaFX中的字符串支持嵌入表达式</p>

<p> </p>

<p> </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var name = 'Joe';
 var s = "Hello {name}";
System.out.println(s);
</code></pre></div></div>

<p> </p>

<p>      程序在输出结果的时候会自动把字符串中的表达式 {} 算出来，替换成结果 。这段程序的输出结果是 : Hello Joe<br />
       这个特点和php很相似。用在来做结果输出模板时很有用，不必用自己创造标签语法，输出的时候又得用正则分析，替换。</p>

<p>    3.<strong>类与对象</strong><br />
       对象声明可以用一种类似于json的语法进行。</p>

<p> </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class Person {
 attribute name: String;
 attribute parent: Person inverse Person.children;
 attribute children: Person* inverse Person.parent;
 function getFamilyIncome(): Number;
 function getNumberOfChildren(): Number;
 operation marry(spouse: Person);
 }

var chris = Person {
name: "Chris"
children:
[Person {
name: "Dee"
},
Person {
name: "Candice"
}]
};
</code></pre></div></div>

<p> </p>

<p> </p>

<p>   4.<strong>很有特色的反射操作</strong><br />
      javaFX的反射很奇妙，我都在想，为什么java的反射也不做成这样。</p>

<p>  
    import java.lang.System;</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     System.out.println(1.class.Name) // prints "Number"
     System.out.println("Hello".class.Name); // prints "String" 
</code></pre></div></div>

<p> </p>

<p>方便吧？<br />
**<br />
三.在web中的尝试。**<br />
      看了说明，好像javaFX出现的目标是简化Swing的界面开发编程。一方面javaFX还没有一个好的所见即所得的ide支持，另外本人对web方面的编程比较感兴趣。所以进行了一个小实验。<br />
     我的思路是用一个servlet拦截所有对fx的请求，根据requestURI,获得javafx文件的绝对路径，然后在servelt中调用java6的脚本引擎，解释执行。<br />
 FXServlet.java</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.io.File;
 import java.io.FileInputStream;
 import java.io.IOException;
 import java.io.InputStreamReader;
 import javax.servlet.ServletException;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;

import javax.script.Bindings;
import javax.script.ScriptContext;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.SimpleScriptContext;

public class FXServlet extends HttpServlet {

private String realPath;

public void doGet(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {

this.doWork(request, response);
}

public void doPost(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {

this.doWork(request, response);
}

public void doWork(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException{
System.out.println("begin ....");
 try {
ClassLoader loader = Thread.currentThread().getContextClassLoader();
ScriptEngineManager manager = new ScriptEngineManager(loader);
ScriptEngine engine = manager.getEngineByExtension("fx");

Bindings bindings = engine.createBindings();
//将request和response两个对象传递给脚本引擎。
bindings.put("REQUEST:javax.servlet.http.HttpServletRequest",request);
bindings.put("RESPONSE:javax.servlet.http.HttpServletResponse",response);

ScriptContext context = new SimpleScriptContext();
context.setBindings(bindings, ScriptContext.GLOBAL_SCOPE);
context.setBindings(bindings, ScriptContext.ENGINE_SCOPE);
engine.setContext(context);
String uri = request.getRequestURI();
String contextPath = request.getContextPath();
//将requestURI中的contextPath替换掉
if(contextPath!=null&amp;&amp;contextPath.trim().length()&gt;0){
uri = uri.replaceAll(contextPath,"");
}
//根据requestURI取得fx文件的绝对地址我们把fx文件放在站点的 WEB-INF下的 jfx目录下。
String filePath = this.realPath   "WEB-INF"  File.separator  "jfx"   uri;
File jfxFile =new File(filePath);

if(!jfxFile.exists()){
response.sendError(404);
}else{
InputStreamReader reader = new InputStreamReader(new FileInputStream(jfxFile));
engine.eval(reader);
reader.close();
}
} catch (Exception e) {
e.printStackTrace();
}
System.out.println("... end");
}

public void init() throws ServletException {
this.realPath = this.getServletContext().getRealPath("/");
}

}
</code></pre></div></div>

<p>web.xml</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       FXServlet
       net.teamhot.jfxweb.FXServlet
    

    
      FXServlet
      *.fx
</code></pre></div></div>

<p> </p>

<p>Hello.fx</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.lang.System;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import java.io.PrintWriter;

 //接受从java中传递过来的参数
 var request:HttpServletRequest = REQUEST;
 var response:HttpServletResponse = RESPONSE;

var name = request.getParameter("name");
var out:PrintWriter = response.getWriter();

var template = "Hello World!{if name ==null then 'guest' else name}";

out.print(template);
</code></pre></div></div>

<p> </p>

<p>运行:http://localhost:8080/jfx/Hello.fx<br />
结果:Hello World!guest 
运行:http://localhost:8080/jfx/Hello.fx?name=jolestar<br />
结果:Hello World!jolestar</p>

<p>注意:本程序需要tomcat在jdk6环境下运行，如果还是提示找不到javax.script.ScriptEngine，请将jdk6 lib 下面的rt.jar中的javax.script包抽取出来，重新打包后放到 tomcat  common lib 下面。 
这个程序没有考虑效率问题。其实这样的事情应该由容器完成，本人只是做了个小小的实验。</p>

        
        </div>
      </li>
    
        
      <li>
        <span class="post-meta">Jul 14, 2007</span>
        <h2>
            <a class="post-link" href="../1184412840000/">毕业若干事</a>
        </h2>
        <div class="post_at_index">
            <p>毕业了。</p>

<p>说这句话也不知道应该是一种什么样的心情，高兴？恐慌？迷茫？反正说不出的感觉。所以用了一个句号。标志着自己生命中的一个时代的结束。<br />
     <br />
毕业前两个月回到学校，先是做论文。本来想自己好好写一下，大学里没怎么上课，最后了总得有个完整的结束吧，我是一向标榜有始有终理论的，开学前几节课得上，期末几节课也要上。于是开始搜集资料，构思。但弄来弄去，发现基本已经没有法学方面的思维了，时间又不够我慢慢恢复法学思维了，于是拼凑了一篇交差。<br />
      
了结了论文的事情，基本就闲了。记得大一时候，一个大四的师兄卖课本，让我去他们宿舍取。结果敲门进宿舍，宿舍中间摆一张桌子，然后若干人光着膀子，围在那儿措麻将呢。当时我就想，难道毕业前就成这样了？心里暗想，我毕业时候一定不这样。但到我毕业的时候，我才明白，毕业前的人比较浮躁，由于学校的价值观和社会的价值观有较大出入，再加上工作了，爱情了什么的乱七八糟的事情，心很难静下来做点事情的。<br />
      <br />
一个同学提议去旅游，好。于是组了个三人帮，远的地方不去了，就到西北转转吧，于是决定去青海湖。坐火车到西宁，第二天到西海镇。说是镇，其实是当地一个藏族自治州的州政府所在地。小镇很漂亮，整个像个公园似的。住宅区也没有围墙，政府门口也没见警卫什么的，所有的建筑都很精致，连马路两旁的花园都用一排排小汉白玉狮子围起来，再加上清爽的空气，立刻让人耳目一新。本来是打算在镇上租自行车的，但那个自行车俱乐部的老板不在，没租成，最后一阵头脑发热，每人买了一辆车。第三天骑车出发，决定绕青海湖一圈。谁知天公不作美，接下来的两天，下雨，刮风，车子也老出问题。终于折腾到鸟岛。在鸟岛宾馆那个镇上呆了一天。早上骑车去鸟岛看了一下鸟，结果人家是建一个碉堡似的房子，四周开几个窟窿，还装着玻璃，然后让你呆在里面看，美其名曰：观鸟室。从鸟岛回来，大家死活不打算骑车了。于是坐车，打道回府。<br />
      <br />
回到学校，打算给自己找点事情做。于是决定考六级。每天上午背背单词，听听听力。下午研究一下搜索，看到个马可夫模型，弄不懂，查一下，结果说是概率统计学上的。于是下载若干视频，借了若干教程，学习。学了一段时间，感觉概率统计学实在太伟大了，见了同学就给他讲概率统计的伟大之处，但由于我是学文科的，大多数同学都没学过这东西，说了半天没人呼应。<br />
     <br />
日子就这样一天天过着，突然一天和实习时候的同事打了个电话，问他最近干什么呢？他说玩天龙八部呢，已经都70级了。他鼓动我也玩玩。于是注册了个号，想看看如何。以前没有玩过什么网游，因为我搞不明白杀那些用程序模拟出来的怪物的意思在哪儿？我给自己说，原来你是旁观者，这次要投入进去试试这东西。结果一下真给投入进去了，概率也不管了，六级也不想了，每天就在那儿杀程序模拟出来的怪物，感觉跟真的一样。仿佛现实中的我已经灵魂出窍，灵魂已经附着在网游里的那个角色上了。现实中的我只有在饿的不行时，匆匆忙忙出去吃个饭，一般连觉都舍不得睡。于是学校的食堂每天早上都会出现一个蓬头垢面，拖着拖鞋，两眼呆滞的人在那儿在吃他自己的晚饭。说自己蓬头垢面一点也不夸张，虽然自己也没照过镜子，但同学们见了都惊叹我几天不见怎么变黑了？然后还有个女老师送了我一瓶洗面奶，当然她没好意思说让我去把脸洗洗，只说她的用不完，给我一点。当然这些道理是我后来才悟出来的，当时思维还在游戏里，根本想不到。<br />
    <br />
就这样，我不知白天黑夜，甚至不知日月星期地玩游戏。突然有两天睡觉的时候，连着做了个梦，都梦见母亲，梦里我哭得一塌糊涂，梦见母亲病了，我背着母亲找大夫，母亲痛得在我背上呻吟，我拼命奔跑，但大夫就是找不到，而背上的母亲却越来越轻，最后竟然没了，于是我在荒芜的大地上大哭，醒来还心有余悸。我查了一下日期，是高考结束的时候了，也就是母亲去世已经四年了。本来每年我都想写些什么，为母亲，也为自己，但每年都没实现，因为我太怕回忆起那段日子了，太怕回忆起母亲被病痛折磨的那种痛苦。于是我还是什么都不想，继续玩游戏。有时候我都想，人要是能生存在网络上多好？没有病痛，死了也只不过去地府转一圈出来继续杀怪.<br />
   <br />
六级没去考，紧接着就办离校手续了。拿张单子，排队，盖章，绕一圈，都盖完就算手续办完了。记得当年入校是也是一样，连单子上的章子都一样,但比较一下当年的心情和现在的心情，立刻让人感叹不已。然后同学就陆续离校了。第一天在火车站送了一天同学。本来我感觉我这人对离别看的比较通达了，也就是送送而以。但一到那种氛围里，班里的同学们在火车旁边齐声唱歌，女同学比较多愁善感，唱着唱着就哭了，我开始坚持忍者，然后看着火车缓缓启动，逐渐远去，要走的同学在火车窗口还使劲向这边探望，招手，大家在下面呼喊招手，我的眼泪就忍不住了。<br />
    <br />
送完了同学，就收拾东西回家。回到家里，看到的场景和我预想的差不多，到处是灰尘，仿佛若干年没住过人似的，唉，父亲一个人不好过啊。帮老爸干了一天农活。几年的学上得我基本已经没有吃苦耐力了。尤其从日新月异的大城市到我们那偏远的小村，看到我们那儿接近原始的劳作方式，总有一种极大的落差感。人太常时间不回家，总会变得有点轻飘飘的，因为老会忘记自己的根，自己的本。我感觉自己又扎扎实实站在大地上了，虽然前方的路还有点迷茫。家里呆了几天，然后就坐车又到北京了。</p>

<p>我的黄金时代结束了。<br />
    <br />
记得以前写过一篇文章，扎个窟窿看世界。是写从小我就向往外面的世界，想从那个小山沟走出来，即使山的那边还是山，我也要走，我多么想在那个偏僻的世界里扎个窟窿看看外面的世界。我扎开窟窿了么？我走出来了么？外面的世界真的好么？好像这些问题我依然不知道答案。生活不像程序，不能指望它运行一段时间后就给你给出个结果。</p>

        
        </div>
      </li>
    
        
      <li>
        <span class="post-meta">Jul 14, 2007</span>
        <h2>
            <a class="post-link" href="../1184412420000/">配置了一下memcached</a>
        </h2>
        <div class="post_at_index">
            <p><strong>1.</strong><strong>memcached是什么?</strong><br />
       memcached is a high-performance,<br />
distributed memory object caching system, generic in nature, but<br />
intended for use in speeding up dynamic web applications by alleviating<br />
database load.<br />
<strong>2.下载地址</strong><br />
      <br />
<strong>3.安装</strong><br />
     跟一般的linux软件安装一样 ./configure 然后 make,make install<br />
     需要一个库 libevent<br />
    下载地址:<br />
     http://www.monkey.org/~provos/libevent/<br />
     安装库后创建个链接 <br />
     ln -s /usr/local/lib/libevent-1.3b.so.1 /lib/libevent-1.3b.so.1<br />
<strong>4.启动</strong><br />
     memcached -u nobody -d -m 50 -l 192.168.0.8 -p 10001<br />
    -u 指定用户<br />
    -m 指定缓存使用内存大小，只是测试，就用了50m<br />
    -l 指定ip地址<br />
    -p 指定端口<br />
<strong>5.测试</strong><br />
   memcached是一个数据源，所以与应用是独立的，理论上支持任何语言访问。现在已有的client库可在下面的地址得到:<br />
  <a href="http://www.danga.com/memcached/apis.bml"> http://www.danga.com/memcached/apis.bml</a><br />
   我们用java测试，jdk为1.6</p>

<p>java 代码</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import com.danga.MemCached.MemCachedClient;
 import com.danga.MemCached.SockIOPool;

 public class MemcacheTest {

 // create a static client as most installs only need
 // a single instance
 protected static MemCachedClient mcc = new MemCachedClient();

// set up connection pool once at class load
static {

// server list and weights
String[] servers ={"8:10001"};

Integer[] weights = { 3 };

// grab an instance of our connection pool
SockIOPool pool = SockIOPool.getInstance();

// set the servers and the weights
pool.setServers( servers );
pool.setWeights( weights );

// set some basic pool settings
// 5 initial, 5 min, and 250 max conns
// and set the max idle time for a conn
// to 6 hours
pool.setInitConn( 5 );
pool.setMinConn( 5 );
pool.setMaxConn( 250 );
pool.setMaxIdle( 1000 * 60 * 60 * 6 );

// set the sleep for the maint thread
// it will wake up every x seconds and
// maintain the pool size
pool.setMaintSleep( 30 );

// set some TCP settings
// disable nagle
// set the read timeout to 3 secs
// and don't set a connect timeout
pool.setNagle( false );
pool.setSocketTO( 3000 );
pool.setSocketConnectTO( 0 );

// initialize the connection pool
pool.initialize();

// lets set some compression on for the client
// compress anything larger than 64k
mcc.setCompressEnable( true );
mcc.setCompressThreshold( 64 * 1024 );
}

public static void bulidCache(){
mcc.set( "foo", "This is a test String" );
TestObj obj = new TestObj();
obj.setId(new Long(1));
obj.setName("test");
mcc.set("testObj", obj);
}

// from here on down, you can call any of the client calls
public static void output() {
//
String bar = (String) mcc.get( "foo" );
System.out.println(bar);
TestObj obj = (TestObj)mcc.get("testObj");
System.out.println(obj);
}

public static void main(String[] args){
bulidCache();
output();
}

}
</code></pre></div></div>

<p> </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.io.Serializable;

 public class TestObj implements Serializable {

 private static final long serialVersionUID = 1L;
 private String name;
private Long id;
/**
 *
 */
public TestObj() {
}
public Long getId() {
return id;
}
public void setId(Long id) {
this.id = id;
}
public String getName() {
return name;
}
public void setName(String name) {
this.name = name;
}

public String toString(){
return "id:" this.getId() ";name:" this.getName();
}
}
</code></pre></div></div>

<p> 从faq上找了段代码，稍做改动。</p>

<p>运行，成功输出：</p>

<p>This is a test String<br />
com.danga.MemCached.MemCachedClient Sat Jul 14 18:59:46 CST 2007 – deserializing class net.teamhot.memecache.TestObj<br />
id:1;name:test</p>

<p>中间两行是日志。<br />
把buildCache方法注释了，再运行，成功。</p>

<p>如果是两种语言共享cache，要注意对象的持久化方式。</p>

<p><strong>6.可能遇到的问题</strong><br />
   如果连接不成功请用telent测试服务器端口是否能连接通。连不通请更改服务器的防火墙设置，或者干脆把防火墙关闭了。</p>

<p>   /etc/init.d/iptables stop</p>

        
        </div>
      </li>
    
  </ul>
 
<div class="pagination pagination-centered">
    <ul>
    
        <li class="prev">
        <a href="../page17">&larr; Previous</a>
        
        </li>
    

    
        <li><a href="../">1</a></li>
        

        
            <li><a href="../page2">2</a></li>
            
        
            <li><a href="../page3">3</a></li>
            
        
            <li><a href="../page4">4</a></li>
            
        
            <li><a href="../page5">5</a></li>
            
        
            <li><a href="../page6">6</a></li>
            
        
            <li><a href="../page7">7</a></li>
            
        
            <li><a href="../page8">8</a></li>
            
        
            <li><a href="../page9">9</a></li>
            
        
            <li><a href="../page10">10</a></li>
            
        
            <li><a href="../page11">11</a></li>
            
        
            <li><a href="../page12">12</a></li>
            
        
            <li><a href="../page13">13</a></li>
            
        
            <li><a href="../page14">14</a></li>
            
        
            <li><a href="../page15">15</a></li>
            
        
            <li><a href="../page16">16</a></li>
            
        
            <li><a href="../page17">17</a></li>
            
        
            <li class="disabled"><a>18</a></li>
            
        
            <li><a href="../page19">19</a></li>
            
        
            <li><a href="../page20">20</a></li>
            
        
    

    
        <li class="next"><a href="../page19">Next &rarr;</a></li>
    
    </ul>
</div>


 <p class="rss-subscribe">subscribe <a href="../feed.xml">via RSS</a></p>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">午夜咖啡</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>午夜咖啡</li>
          <li><a href="mailto:jolestar@gmail.com">jolestar@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jolestar">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">jolestar</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/jolestar">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">jolestar</span>
            </a>
          </li>
          

          
          <li>
            <a href="http://weibo.com/jolestar">
              <span class="icon  icon--weibo">
                <svg viewBox="0 0 1000 1235">
                  <path fill="#828282" d="M0 672q0-161 184-347 117-116 236-162 56-23 97-23 45 0 72 27 26 26 26 72 0 31-12 72-4 14 3 17.5t16 .5l10-4q96-40 170-40t106 42q15 22 15 52 0 31-16 71-7 10-2.5 17t8 9 14.5 5q62 19 106 62t44 107q0 59-41 120.5t-111.5 112.5-178 84-228.5 33q-131 0-247.5-38.5t-193.5-115-77-174.5zm125 48q10 101 125 161 92 49 209 49 29 0 60-3 153-15 255-97 92-75 92-165 0-9-1-18-10-100-125-160-93-49-210-49-29 0-59 3-101 10-183 51t-126 101q-38 53-38 109 0 9 1 18zm160 62q-13-29-13-59 0-35 18-70 31-64 104-96 45-20 91-20 27 0 54 7 76 20 109 82 17 32 17 66 0 32-15 65-31 71-109 104-44 19-88 19-34 0-67-11-73-23-101-87zm56-19q6 25 30 35 13 6 27 6 12 0 24-4 28-9 43-33 10-16 10-32 0-7-3-15-6-24-30-34-13-5-26-5-12 0-25 4-27 9-41 32-11 16-11 33 0 7 2 13zm141-79q3 9 13 13 5 2 9.5 2t9.5-2q11-4 16-13t2-18-12-13q-9-3-19.5.5t-15.5 12.5q-3 6-3 12l0 6zm321-621q-1-5-1-10 0-13 8-25 10-16 29-21 34-7 68-7 51 0 100 15 83 27 143 93t78 153q7 35 7 68 0 51-16 98l0 1q-6 18-23 27-11 5-22 5-7 0-15-2-19-6-27-23-5-11-5-21 0-8 2-15l0-1q11-34 11-70 0-23-4-48-13-62-56-109t-102-66q-35-10-70-10-24 0-49 5-5 1-10 1-14 0-26-8-16-11-20-30zm40 157q-1-5-1-10 0-10 6-21 9-14 26-18 19-4 37-4 67 0 115 53 29 33 38 75 3 17 3 33 0 24-8 48-5 16-20 23-9 5-18 5-7 0-13-2-16-5-24-20-4-9-4-18 0-7 2-13 4-14 4-26 0-28-21-50-22-26-54-26-10 0-20 2-5 1-9 1-11 0-21-7-14-9-18-25z"/>
                </svg>
              </span>

              <span class="username">jolestar</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
         <div>
            Jolestar 的个人博客<br/>
            Channel:<a href="https://t.me/jolestarblog">https://t.me/jolestarblog</a>
            <br/><br/>
        </div>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-1268034-7', 'auto');
            ga('send', 'pageview');
        </script>

      </div>
    </div>

  </div>

</footer>


  </body>

</html>
